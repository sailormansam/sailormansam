var Comic=function(){this.canvas=document.getElementById("comic"),this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.panels=["images/box1.svg","images/box2.svg","images/box3.svg","images/box4.svg"],this.images=[],this.container=document.getElementById("alone"),this.create()};Comic.prototype={create:function(){this.resize()},drawPanels:function(t){var i=0;this.loadedCounter=0,this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(var s=0,e=this.panels.length/2;e>s;s++)for(var a=0,e=this.panels.length/2;e>a;a++){var n=new Image;n.src=this.panels[i],t?this.imageLoader(this.canvas,this.ctx,n,0,i*this.canvas.height/4,this.canvas.width,this.canvas.width):this.imageLoader(this.canvas,this.ctx,n,a*this.canvas.width/2,s*this.canvas.height/2,this.canvas.width/2,this.canvas.width/2),this.images.push(n),i++}},resize:function(){this.container.clientWidth<672?(this.canvas.width=this.container.clientWidth,this.canvas.height=4*this.container.clientWidth,this.drawPanels(!0)):(this.canvas.width=672,this.canvas.height=672,this.drawPanels())},imageLoader:function(t,i,s,e,a,n,h){var c=this.container;s.onload=function(){i.drawImage(s,e,a,n,h);var o=t.toDataURL();document.getElementById("renderedComic").src=o,document.getElementById("renderedComic").style.display="block",c.style.paddingTop=0}}},function(){var t=angular.module("comic",[]);t.controller("ComicController",function(){this.comics=i});var i=[{id:"test1",image:"images/test.jpg",description:"test 1"},{id:"test2",image:"images/test.jpg",description:"test 2"}]}();
var Comic=function(){this.canvas=document.getElementById("comic"),this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.panels=["images/box1.svg","images/box2.svg","images/box3.svg","images/box4.svg"],this.images=[],this.container=document.getElementById("alone"),this.create()};Comic.prototype={create:function(){this.resize()},drawPanels:function(t){var i=0;this.loadedCounter=0,this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(var s=0,a=this.panels.length/2;a>s;s++)for(var e=0,a=this.panels.length/2;a>e;e++){var n=new Image;n.src=this.panels[i],t?this.imageLoader(this.canvas,this.ctx,n,0,i*this.canvas.height/4,this.canvas.width,this.canvas.width):this.imageLoader(this.canvas,this.ctx,n,e*this.canvas.width/2,s*this.canvas.height/2,this.canvas.width/2,this.canvas.width/2),this.images.push(n),i++}},resize:function(){this.container.clientWidth<=685?(this.canvas.width=this.container.clientWidth,this.canvas.height=4*this.container.clientWidth,this.drawPanels(!0)):(this.canvas.width=685,this.canvas.height=685,this.drawPanels())},imageLoader:function(t,i,s,a,e,n,h){var c=this.container;s.onload=function(){i.drawImage(s,a,e,n,h);var o=t.toDataURL();document.getElementById("renderedComic").src=o,document.getElementById("renderedComic").style.display="block",c.style.paddingTop=0}}};var alone;window.onload=function(){alone=new Comic},window.onresize=function(){alone.resize()};
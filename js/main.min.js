!function(){var app=angular.module("comic",[]);app.controller("PanelController",function($http){var com=this;$http.get("/data.json").success(function(data){com.comics=data.panels}).error(function(){console.log("error")})}),app.directive("endDirective",function($location,$anchorScroll,$sce){return function(scope,element,attrs){if(scope.descriptionHtml=$sce.trustAsHtml(scope.comic.description),scope.$last){var hash=window.location.hash;$location.hash(hash.substr(2,hash.length)),$anchorScroll()}}})}(),function(){function throttle(){if(ready){for(var comic,comics=document.getElementsByTagName("article"),hashId="",i=0,len=comics.length;len>i;i++)document.body.scrollTop>=comics[i].offsetTop&&(comic=comics[i],hashId=comics[i].id);history.replaceState(null,null,"#"+hashId),ready=!1,window.setTimeout(function(){ready=!0},500)}}var ready=!0;window.onscroll=throttle}();